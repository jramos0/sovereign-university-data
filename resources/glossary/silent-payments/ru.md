---
term: БЕСШУМНЫЕ ПЛАТЕЖИ

---
Метод использования статических адресов Bitcoin для получения платежей без повторного использования адресов, без взаимодействия и без видимой связи на цепи между различными платежами и статическим адресом. Этот метод устраняет необходимость генерировать новые, неиспользуемые адреса получения для каждой транзакции, что позволяет избежать обычного взаимодействия в Биткойне, когда получатель должен предоставить новый адрес плательщику.

При использовании Silent Payments плательщик использует открытые ключи получателя (открытый ключ траты и открытый ключ сканирования) и сумму собственных закрытых ключей в качестве исходных данных для генерации нового адреса для каждого платежа. Только получатель, имея свои закрытые ключи, может вычислить закрытый ключ, соответствующий этому адресу платежа. ECDH (*Elliptic-Curve Diffie-Hellman*), алгоритм обмена криптографическими ключами, используется для создания общего секрета, который затем используется для получения адреса получения и закрытого ключа (только на стороне получателя). Чтобы идентифицировать предназначенные для них Silent Payments, получатели должны просканировать блокчейн и изучить каждую транзакцию, соответствующую критериям протокола. В отличие от BIP47, в котором для установления платежного канала используется транзакция с уведомлением, в Silent Payments этот шаг исключен, что позволяет сэкономить на транзакции. Однако компромисс заключается в том, что получатель должен просканировать все потенциальные транзакции, чтобы определить с помощью ECDH, адресованы ли они ему.

Например, статический адрес Боба $B$ представляет собой конкатенацию его открытого ключа scan и открытого ключа spend:

$$ B = B_{\text{scan}} \text{ ‖ } B_{\text{spend}} $$

Эти ключи просто выводятся из следующего пути:

```text
scan : m / 352' / 0' / 0' / 1' / 0
spend : m / 352' / 0' / 0' / 0' / 0
```

Этот статический адрес опубликован Бобом. Алиса извлекает его, чтобы совершить молчаливый платеж Бобу. Она вычисляет платежный адрес Боба $P_0$ таким образом:

$$ P_0 = B_{\text{spend}} + \text{hash}(\text{inputHash} \cdot a \cdot B_{\text{scan}} \text{ ‖ } 0) \cdot G $$

Где:

$$ \text{inputHash} = \text{hash}(\text{outpoint}_L \text{ ‖ } A) $$

С:


- $B_{\text{scan}}$: открытый ключ сканирования Боба (статический адрес);
- $B_{\text{spend}}$: открытый ключ Боба для траты (статический адрес);
- $A$: Сумма открытых ключей на входе (tweak);
- $a$: Закрытый ключ твика, то есть сумма всех пар ключей, используемых в `scriptPubKey' UTXO, используемых в качестве входных данных в транзакции Алисы;
- $\text{outpoint}_L$: Наименьший UTXO (лексикографически), использованный в качестве входа в транзакции Алисы;
- $\text{ ‖ }$: Конкатенация (операция соединения операндов из конца в конец);
- $G$: Генераторная точка эллиптической кривой `ecp256k1`;
- $\text{hash}$: Хэш-функция SHA256, помеченная как `BIP0352/SharedSecret`;
- $P_0$: Первый открытый ключ / уникальный адрес для оплаты Бобу;
- $0$: Целое число, используемое для генерации нескольких уникальных платежных адресов.

Боб сканирует блокчейн, чтобы найти свой "молчаливый платеж" таким образом:

$$ P_0 = B_{\text{spend}} + \text{hash}(\text{inputHash} \cdot b_{\text{scan}} \cdot A \text{ ‖ } 0) \cdot G $$

С:


- $b_{\text{scan}}$: закрытый ключ сканирования Боба.

Если он находит $P_0$ в качестве адреса, содержащего адресованный ему Silent Payment, он вычисляет $p_0$, закрытый ключ, позволяющий ему потратить средства, отправленные Алисой на $P_0$:

$$ p_0 = (b_{\text{spend}} + \text{hash}(\text{inputHash} \cdot b_{\text{scan}} \cdot A \text{ ‖ } 0)) \mod n $$

С:


- $b_{\text{spend}}$: закрытый ключ расходов Боба;
- $n$: порядок эллиптической кривой `secp256k1`.

В дополнение к этому базовому варианту, этикетки также могут использоваться для генерации нескольких различных статических адресов из одного базового статического адреса, с целью разделения нескольких вариантов использования без необоснованного увеличения объема работы, требуемой при сканировании.