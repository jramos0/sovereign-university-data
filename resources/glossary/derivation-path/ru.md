---
term: ПУТЬ ДЕРИВАЦИИ

---
В контексте иерархических детерминированных (HD) кошельков путь деривации означает последовательность индексов, используемых для получения дочерних ключей из мастер-ключа. Описанный в BIP32, этот путь определяет древовидную структуру для получения дочерних ключей. Путь деривации представлен серией индексов, разделенных косыми чертами, и всегда начинается с главного ключа (обозначается как `m/`). Например, типичный путь может быть `m/84'/0'/0'/0/0`. Каждый уровень деривации связан с определенной глубиной:


- `m /` обозначает главный закрытый ключ. Он уникален для кошелька и не может иметь братьев и сестер на той же глубине. Главный ключ получается непосредственно из семени;
- `m / purpose' /` указывает цель деривации, которая помогает идентифицировать последующий стандарт. Это поле описано в BIP43. Например, если кошелек придерживается стандарта BIP84 (SegWit V0), то индекс будет `84'`;
- `m / purpose' / coin-type' /` указывает на тип криптовалюты. Это позволяет четко разграничить ветки, предназначенные для одной криптовалюты, и ветки, предназначенные для другой, в мультикоиновом кошельке. Индекс, предназначенный для биткойна, равен `0`;
- `m / purpose` / coin-type` / account` /` указывает на номер счета. Эта глубина позволяет легко разграничить и организовать кошелек на различные счета. Эти счета нумеруются, начиная с `0`. Расширенные ключи (`xpub`, `xprv`...) находятся на этом уровне глубины;
- `m / purpose' / coin-type' / account' / change /` указывает путь. Каждый счет, определенный на глубине 3, имеет два пути на глубине 4: внешнюю цепочку и внутреннюю цепочку (также называемую "change"). Внешняя цепочка выводит адреса, предназначенные для публичного обмена, то есть адреса, которые предлагаются нам, когда мы нажимаем кнопку "получить" в программе нашего кошелька. Внутренняя цепочка формируется из адресов, не предназначенных для публичного обмена, в основном это адреса изменений. Внешняя цепочка обозначается индексом `0`, а внутренняя - индексом `1`. Вы заметите, что с этой глубины мы выполняем уже не жесткую, а обычную деривацию (апостроф отсутствует). Именно благодаря этому механизму мы можем вывести все дочерние открытые ключи из их `xpub`;
- `m / purpose` / coin-type` / account` / change` / address-index` просто указывает номер получаемого адреса и его пару ключей, чтобы отличить его от братьев и сестер на той же глубине по той же ветке. Например, первый полученный адрес имеет индекс `0`, второй адрес - индекс `1`, и так далее...

Например, если мой принимающий адрес имеет путь деривации `m / 86' / 0' / 0' / 0 / 5`, мы можем вывести следующую информацию:


- `86` указывает на то, что мы следуем стандарту деривации BIP86 (Taproot / SegWit V1);
- `0` указывает на то, что это адрес Bitcoin;
- `0` указывает на то, что мы находимся на первом счете кошелька;
- `0` означает, что это внешний адрес;
- `5` означает, что это шестой внешний адрес данной учетной записи.

![](../../dictionnaire/assets/18.webp)