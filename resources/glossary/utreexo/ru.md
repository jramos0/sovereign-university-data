---
term: UTREEXO

---
Протокол, разработанный Таджем Драйя для уплотнения набора UTXO узлов Биткойна с помощью аккумулятора, основанного на деревьях Меркла. В отличие от классического набора UTXO, требующего значительного пространства для хранения, Utreexo значительно сокращает объем памяти за счет хранения только корней деревьев Меркла. Это позволяет узлу проверять существование UTXO, используемых во входах транзакций, без необходимости хранить полный набор UTXO. При использовании Utreexo каждый узел сохраняет только криптографический отпечаток, называемый корнем Меркла. Когда совершается транзакция, пользователь предоставляет доказательства владения UTXO и соответствующие пути Меркла. Таким образом, узел может проверять транзакции, не храня весь набор UTXO. Для понимания этого механизма рассмотрим пример с диаграммой:

![](../../dictionnaire/assets/15.webp)

В этом примере я намеренно сократил набор UTXO до 4 UTXO, чтобы облегчить понимание. В реальности важно представить, что на момент написания этих строк в Биткойне насчитывается почти 140 миллионов UTXO. В этой схеме узлу Utreexo нужно только хранить корень Меркла в оперативной памяти. Если он получает транзакцию, расходуя UTXO № 3 (выделено черным), доказательство будет состоять из следующих элементов:


- UTXO 3;
- HASH 4;
- HASH 1-2.

С помощью этой информации, переданной отправителем транзакции, узел Utreexo выполняет следующие проверки:


- Он вычисляет отпечаток UTXO 3, что дает ему HASH 3;
- Он конкатенирует HASH 3 с HASH 4;
- Он вычисляет их отпечаток, который дает ему HASH 3-4;
- Он конкатенирует HASH 3-4 с HASH 1-2;
- Он вычисляет их отпечаток, который дает ему корень Меркла.

Если корень Меркла, полученный в результате этого процесса, совпадает с корнем Меркла, хранящимся в оперативной памяти, то он убежден, что UTXO № 3 действительно является частью набора UTXO.

Этот метод снижает требования к оперативной памяти для операторов полных узлов. Однако Utreexo имеет ограничения, включая увеличение размера блока из-за дополнительных доказательств и потенциальную зависимость узлов Utreexo от Bridge Nodes для получения недостающих доказательств. Bridge Nodes - это традиционные полные узлы, которые предоставляют необходимые доказательства узлам Utreexo, обеспечивая тем самым полную верификацию. Такой подход предлагает компромисс между эффективностью и децентрализацией, делая проверку транзакций более доступной для пользователей с ограниченными ресурсами.