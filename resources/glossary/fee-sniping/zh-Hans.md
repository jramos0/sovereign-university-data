---
term: 收费

---
矿工试图重写最近确认的区块，以索取其中包含的交易费用，同时将同时到达的高费用交易添加到内存池中的一种攻击场景。对矿工来说，这种攻击的最终目的是提高他们的盈利能力。随着区块奖励的减少，交易费在矿工收入中的比重越来越大，狙击交易费的利润也会越来越高。当上一个区块所含的费用明显高于下一个最佳候选区块时，狙击也会变得有利。简单来说，矿工面临着激励机制方面的选择：


- 在最后一个区块之后以正常方式采矿，获得低奖励的概率很高；
- 尝试开采前一个区块（收费狙击），获得高额奖励的概率较低。

这种攻击给比特币系统带来了风险，因为采用这种攻击的矿工越多，其他最初诚实的矿工就越有动力去做同样的事情。事实上，每当有一个新矿工加入试图狙击收费的矿工行列，其中一个攻击矿工成功的概率就会增加，而其中一个诚实矿工延长链的概率就会降低。如果这种攻击大规模进行并持续一段时间，区块确认将不再是比特币交易不变性的可靠指标。这有可能导致系统无法使用。

为了应对这种风险，大多数钱包软件都会自动填写 "nLocktime "字段，以便在验证交易时将其纳入下一个区块高度。这样，在重写上一个区块时就不可能包含交易。如果比特币用户广泛使用 "nLocktime"，就会大大减少狙击收费的动机。事实上，它通过减少区块链的潜在利润，鼓励区块链的发展而不是重写。对于 Taproot 交易，BIP326 建议以类似的方式使用 "nSequence "字段，以达到与其他类型交易的 "nLocktime "字段相同的效果。这种用法将一石二鸟，因为它还能提高使用相同字段的第二层协议的隐私性。