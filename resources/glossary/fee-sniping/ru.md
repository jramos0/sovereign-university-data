---
term: СНИЖЕНИЕ ДЕНЕГ

---
Сценарий атаки, при котором майнеры пытаются переписать недавно подтвержденный блок, чтобы получить комиссионные за транзакции, содержащиеся в нем, добавив при этом в мемпул транзакции с высокой комиссией, которые поступили за это время. Конечная цель этой атаки для майнера - увеличить свою прибыльность. Снайпинг может становиться все более прибыльным по мере того, как вознаграждение за блок уменьшается, а плата за транзакции составляет все большую часть дохода майнеров. Он также может быть выгоден, когда комиссии, содержащиеся в предыдущем блоке, значительно выше, чем в следующем лучшем блоке-кандидате. Упрощенно говоря, майнер стоит перед таким выбором с точки зрения стимулов:


- Добывайте обычным способом после последнего блока, с большой вероятностью получив низкую награду;
- Попытка добыть предыдущий блок (fee sniping) с низкой вероятностью получения высокой награды.

Эта атака представляет опасность для системы Биткойн, поскольку чем больше майнеров ее применяют, тем больше других майнеров, изначально честных, стимулируются к тому же. Действительно, каждый раз, когда новый майнер присоединяется к числу тех, кто пытается совершить "снайпинг платы", вероятность того, что один из атакующих майнеров добьется успеха, увеличивается, а вероятность того, что один из честных майнеров продлит цепочку, наоборот, уменьшается. Если эта атака будет проводиться массово и продолжительно, подтверждения блоков перестанут быть надежным показателем неизменности транзакции Биткойна. Это может привести к тому, что система станет непригодной для использования.

Чтобы противостоять этому риску, большинство программ для кошельков автоматически заполняют поле `nLocktime` таким образом, чтобы оно обуславливало проверку транзакции включением в следующий по высоте блок. Таким образом, становится невозможным включить транзакцию в перезапись предыдущего блока. Если широкое использование `nLocktime` будет принято пользователями Биткойна, это значительно снизит стимулы для перехвата вознаграждения. Более того, он поощряет развитие блокчейна, а не его переписывание, уменьшая потенциальную прибыль от этого. Для транзакций Taproot в BIP326 предлагается использовать поле `nSequence` аналогичным образом, чтобы добиться эффекта, эквивалентного эффекту поля `nLocktime` для других типов транзакций. Такое использование позволит убить двух зайцев одним выстрелом, улучшив конфиденциальность протоколов второго уровня, использующих то же поле.