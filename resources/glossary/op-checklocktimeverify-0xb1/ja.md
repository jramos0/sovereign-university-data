---
term: op_checklocktimeverify (0xb1)

---
これらの条件がすべて満たされない限り、取引を無効にする：


- スタックは空ではない；
- スタックの一番上の値は `0` 以上である；
- タイムロックのタイプは、`nLockTime`フィールドとスタックの一番上の値（実時間またはブロック番号）の間で同じである；
- 入力の `nSequence` フィールドが `0xffffffff` と等しくない；
- スタックの一番上の値はトランザクションの `nLockTime` フィールドの値以上である。

これらの条件が 1 つでも満たされない場合、 `OP_CHECKLOCKTIMEVERIFY` を含むスクリプトを満たすことはできない。これらの条件がすべて有効な場合、`OP_CHECKLOCKTIMEVERIFY` は `OP_NOP` として動作します。つまり、スクリプトに対して何のアクションも実行しません。このように `OP_CHECKLOCKTIMEVERIFY` は、スクリプトを含むUTXOの消費に時間的な制約を与えます。これは、Unixの時間日付、またはブロック番号の形で行うことができる。これを行うには、それを使用するトランザクションの `nLockTime` フィールドの取り得る値を制限し、この `nLockTime` フィールド自体が、トランザクションがいつブロックに含まれるかを制限する。

> このオペコードは `OP_NOP` を置き換えるものである。OP_NOP2`の上に配置された。頭文字をとって "CLTV "と呼ばれることが多い。注意してほしいのは、`OP_CLTV` をトランザクションの `nLockTime` フィールドと混同してはいけないということである。前者は後者を使用しますが、その性質と動作は異なります*。