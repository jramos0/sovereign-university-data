---
term: TAPROOT

---
Una importante actualización del protocolo Bitcoin, adoptada mediante una bifurcación suave en noviembre de 2021. Esta actualización aporta mejoras significativas en términos de privacidad, eficiencia y flexibilidad mediante la implementación de BIP340, BIP341 y BIP342. Esta actualización se bloqueó en el bloque 687.284 el 12 de junio de 2021, cuando el 90% de los bloques generados durante un periodo señalaron a favor, indicando así la disposición de los mineros a activar la actualización (*Speedy Trial*). La activación se produjo finalmente en el bloque 709.632 el 14 de noviembre de 2021, casi cuatro años después de las conversaciones iniciales sobre el asunto entre Pieter Wuille, Andrew Poelstra y Gregory Maxwell. Fue el primer intento de actualización importante desde la polémica activación de SegWit en 2017.

Taproot es también el nombre de BIP341, implementado dentro de la bifurcación suave del mismo nombre, que introduce un nuevo modelo de script llamado P2TR. Un script P2TR bloquea bitcoins en una clave pública Schnorr única, denotada como $K$. Sin embargo, esta clave $K$ es en realidad un agregado de una clave pública $P$ y una clave pública $M$, esta última calculada a partir de la raíz de Merkle de una lista de `scriptPubKey`. Los bitcoins bloqueados con un script P2TR pueden gastarse de dos formas distintas: publicando una firma para la clave pública $P$, o satisfaciendo uno de los scripts contenidos en el árbol de Merkle. La primera opción se denomina "*ruta de clave*" y la segunda "*ruta de script*".