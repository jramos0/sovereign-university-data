---
term: 树根

---
比特币协议的重大更新，于 2021 年 11 月通过软分叉获得通过。该更新通过实施 BIP340、BIP341 和 BIP342，在隐私、效率和灵活性方面带来了重大改进。该更新于 2021 年 6 月 12 日锁定在 687,284 区块，当时在此期间生成的区块中有 90% 发出了赞成信号，从而表明矿工们已准备好激活更新（*快速试用*）。激活最终于 2021 年 11 月 14 日在 709,632 区块进行，这距离 Pieter Wuille、Andrew Poelstra 和 Gregory Maxwell 就此事进行初步讨论已经过去了近四年时间。这是自 2017 年 SegWit 激活引发争议以来的首次重大更新尝试。

Taproot 也是 BIP341 的名称，在同名软分叉中实现，它引入了一种名为 P2TR 的新脚本模型。P2TR 脚本将比特币锁定在一个唯一的 Schnorr 公钥上，表示为 $K$。然而，这个 $K$ 密钥实际上是一个公钥 $P$ 和一个公钥 $M$ 的集合，后者是通过`scriptPubKey`列表的梅克尔根计算出来的。用 P2TR 脚本锁定的比特币可以通过两种不同的方式使用：一种是发布公钥 $P$ 的签名，另一种是满足默克尔树中包含的脚本之一。第一种方式称为 "*密钥路径*"，第二种方式称为 "*脚本路径*"。