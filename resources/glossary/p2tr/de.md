---
term: P2TR

---
P2TR steht für *Pay to Taproot* und ist ein Standard-Skriptmodell, das zur Festlegung von Ausgabenbedingungen für einen UTXO (Unspent Transaction Output) verwendet wird. Es wurde mit der Einführung von Taproot im November 2021 eingeführt. P2TR verwendet das Schnorr-Protokoll, um kryptografische Schlüssel zu aggregieren, sowie Merkle-Bäume für alternative Skripte, bekannt als MAST (*Merkelized Alternative Script Tree*). Im Gegensatz zu herkömmlichen Transaktionen, bei denen die Ausgabebedingungen öffentlich zugänglich sind (manchmal zum Zeitpunkt des Empfangs, manchmal zum Zeitpunkt der Ausgabe), ermöglicht P2TR das Verstecken komplexer Skripte hinter einem einzigen scheinbar öffentlichen Schlüssel.

Technisch gesehen sperrt ein P2TR-Skript Bitcoins mit einem eindeutigen öffentlichen Schnorr-Schlüssel, der mit $K$ bezeichnet wird. Dieser Schlüssel $K$ ist jedoch in Wirklichkeit ein Aggregat aus einem öffentlichen Schlüssel $P$ und einem öffentlichen Schlüssel $M$, wobei letzterer aus der Merkle-Wurzel einer Liste von `scriptPubKey` berechnet wird. Die mit einem P2TR-Skript gesperrten Bitcoins können auf zwei verschiedene Arten ausgegeben werden: entweder durch Veröffentlichung einer Signatur für den öffentlichen Schlüssel $P$ oder durch Erfüllung eines der im Merkle-Baum enthaltenen Skripte. Die erste Option wird als "*Schlüsselpfad*" und die zweite als "*Skriptpfad*" bezeichnet.

P2TR ermöglicht es den Nutzern also, Bitcoins entweder an einen öffentlichen Schlüssel oder an mehrere Skripte ihrer Wahl zu senden. Ein weiterer Vorteil dieses Skripts ist, dass, obwohl es mehrere Möglichkeiten gibt, eine P2TR-Ausgabe auszugeben, nur diejenige offengelegt werden muss, die zum Zeitpunkt der Ausgabe verwendet wird, so dass die nicht verwendeten Alternativen privat bleiben. P2TR ist eine SegWit-Ausgabe der Version 1, was bedeutet, dass die Signaturen für P2TR-Eingaben im Zeugen einer Transaktion und nicht in der `scriptSig` gespeichert werden. P2TR-Adressen verwenden eine `Bech32m`-Kodierung und beginnen mit `bc1p`.