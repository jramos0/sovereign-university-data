---
term: BIP147

---
SegWit soft forkiin sisältyvä ehdotus, jonka tarkoituksena on ratkaista muokattavuusvektori, joka liittyy `OP_CHECKMULTISIG`- ja `OP_CHECKMULTISIGVERIFY`-operaatioiden kuluttamaan dummy-elementtiin. Historiallisen off-by-one-virheen (yksikönsiirtovirhe) vuoksi nämä kaksi opkoodia poistavat pinosta ylimääräisen elementin niiden perustoiminnon lisäksi. Virheen välttämiseksi on siis pakko sisällyttää `scriptSig`-operaation alkuun tyhjä arvo, jotta poisto täyttyy ja vika voidaan kiertää. Tämä arvo on tarpeeton, mutta sen on oltava siinä, jotta skripti olisi kelvollinen. BIP11:ssä, jossa esiteltiin P2MS-standardi, kehotettiin laittamaan tarpeettomaksi arvoksi `OP_0`. Tätä standardia ei kuitenkaan valvottu konsensussääntöjen tasolla, joten sinne voitiin sijoittaa mikä tahansa arvo ilman, että transaktio mitätöitiin. Näin `OP_CHECKMULTISIG` ja `OP_CHECKMULTISIGVERIFY` sisälsivät muokattavuusvektorin. BIP147:ssä otetaan käyttöön uusi konsensussääntö nimeltä `NULLDUMMY`, joka edellyttää, että tämä dummy-elementti on tyhjä tavujoukko (`OP_0`). Mikä tahansa muu arvo johtaa skriptin arvioinnin välittömään epäonnistumiseen. Tämä muutos koskee sekä SegWitiä edeltäviä skriptejä että P2WSH-skriptejä, ja se vaati pehmeän haarautumisen.