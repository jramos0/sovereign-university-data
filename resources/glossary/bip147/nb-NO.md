---
term: BIP147

---
Forslag inkludert i SegWit soft fork med sikte på å løse en feilbarlighetsvektor relatert til dummy-elementet som forbrukes av operasjonene `OP_CHECKMULTISIG` og `OP_CHECKMULTISIGVERIFY`. På grunn av en historisk "off-by-one"-feil (unit shift error), fjerner disse to opkodene et ekstra element fra stakken utover deres grunnleggende funksjon. For å unngå en feil er det derfor obligatorisk å inkludere en dummyverdi i begynnelsen av `scriptSig` for å tilfredsstille fjerningen og omgå feilen. Denne verdien er unødvendig, men den må være der for at skriptet skal være gyldig. BIP11, som introduserte P2MS-standarden, anbefalte å sette en `OP_0` som den unødvendige verdien. Denne standarden ble imidlertid ikke håndhevet på konsensusreglene, noe som betyr at en hvilken som helst verdi kunne plasseres der uten å ugyldiggjøre transaksjonen. Slik inneholdt `OP_CHECKMULTISIG` og `OP_CHECKMULTISIGVERIFY` en malleability-vektor. BIP147 introduserer en ny konsensusregel, kalt `NULLDUMMY`, som krever at dette dummy-elementet skal være en tom byte-array (`OP_0`). Enhver annen verdi fører til at skriptevalueringen mislykkes umiddelbart. Denne endringen gjelder både pre-SegWit-skript og P2WSH-skript, og krevde en soft fork.