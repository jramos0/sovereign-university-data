---
term: BIP147

---
Proposta inclusa nel soft fork di SegWit volta a risolvere un vettore di malleabilità relativo all'elemento fittizio consumato dalle operazioni `OP_CHECKMULTISIG` e `OP_CHECKMULTISIGVERIFY`. A causa di un bug storico di off-by-one (errore di spostamento dell'unità), questi due codici operativi rimuovono un elemento aggiuntivo dallo stack oltre alla loro funzione di base. Per evitare un errore, è quindi obbligatorio includere un valore fittizio all'inizio dello `scriptSig` per soddisfare la rimozione e aggirare il bug. Questo valore non è necessario, ma deve essere presente perché lo script sia valido. Il BIP11, che ha introdotto lo standard P2MS, consigliava di inserire un `OP_0` come valore non necessario. Tuttavia, questo standard non è stato applicato a livello di regole di consenso, il che significa che qualsiasi valore può essere inserito senza invalidare la transazione. In questo modo `OP_CHECKMULTISIG` e `OP_CHECKMULTISIGVERIFY` contenevano un vettore di malleabilità. Il BIP147 introduce una nuova regola di consenso, denominata `NULLDUMMY`, che richiede che questo elemento fittizio sia un array di byte vuoto (`OP_0`). Qualsiasi altro valore comporta l'immediato fallimento della valutazione dello script. Questa modifica si applica agli script pre-SegWit e a quelli P2WSH e ha richiesto un soft fork.