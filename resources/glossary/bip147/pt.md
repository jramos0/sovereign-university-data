---
term: BIP147

---
Proposta incluída no soft fork do SegWit com o objetivo de resolver um vetor de maleabilidade relacionado ao elemento fictício consumido pelas operações `OP_CHECKMULTISIG` e `OP_CHECKMULTISIGVERIFY`. Devido a um erro histórico de "off-by-one" (erro de deslocamento de unidade), estes 2 opcodes removem um elemento adicional da pilha para além da sua função básica. Para evitar um erro, é portanto obrigatório incluir um valor fictício no início do `scriptSig` para satisfazer a remoção e contornar o erro. Este valor é desnecessário, mas deve estar lá para que o script seja válido. BIP11, que introduziu o padrão P2MS, aconselhou colocar um `OP_0` como o valor desnecessário. No entanto, esta norma não foi aplicada ao nível das regras de consenso, o que significa que qualquer valor pode ser colocado sem invalidar a transação. É assim que `OP_CHECKMULTISIG` e `OP_CHECKMULTISIGVERIFY` continham um vetor de maleabilidade. O BIP147 introduz uma nova regra de consenso, chamada `NULLDUMMY`, exigindo que este elemento fictício seja um array de bytes vazio (`OP_0`). Qualquer outro valor resulta na falha imediata da avaliação do script. Esta mudança se aplica a scripts pré-SegWit, bem como a scripts P2WSH e exigiu um soft fork.