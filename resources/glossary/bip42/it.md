---
term: BIP42

---
Una proposta di miglioramento di Bitcoin Core che risolve un piccolo bug nel programma di riduzione della ricompensa dei blocchi. Questa anomalia, se non corretta, avrebbe portato a una creazione totale di bitcoin superiore al limite previsto di 21 milioni. In particolare, dopo la fine dei dimezzamenti, si sarebbe potuto teoricamente innescare un nuovo ciclo di creazione di bitcoin intorno all'anno 2214. Il codice Core in questione utilizzava un'operazione di shift binario a destra sul valore della ricompensa del miner. Il bug derivava dall'uso di questa operazione di shift in un contesto in cui il comportamento non era definito secondo gli standard del linguaggio C++. Lo spostamento di un intero a 64 bit (`int64_t`) di oltre 63 bit a destra rientra in questa categoria di comportamento non definito. Nel codice di Bitcoin Core, questo potrebbe essersi verificato dopo 64 dimezzamenti, all'altezza del blocco n. 13.440.000. Oltre questo limite, il comportamento dello spostamento di bit non era definito, il che significa che diverse compilazioni potevano interpretare il codice in modo diverso. Questo avrebbe potuto portare a risultati imprevedibili, compresa la possibilità di creare un'inflazione infinita di bitcoin. Il BIP42 ha corretto questo problema imponendo che la ricompensa del blocco sia azzerata dopo 64 metà, evitando così l'uso di un'operazione di spostamento a destra in un contesto di comportamento non definito. Questa modifica, che era un soft fork, ha chiarito il comportamento del codice di Bitcoin Core. Sebbene sia abbastanza grave, il bug corretto da BIP42 non era immediatamente critico, in quanto si sarebbe manifestato solo intorno all'anno 2214. Pubblicato il 1° aprile 2014 da Pieter Wuille, BIP42 si distingue per il suo tono umoristico.