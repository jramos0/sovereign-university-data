---
term: BIP42

---
Návrh na vylepšení jádra bitcoinu, který řeší drobnou chybu v plánu snižování odměn za bloky. Tato anomálie, pokud by nebyla opravena, by vedla k celkovému vytvoření bitcoinů přesahujícímu plánovaný limit 21 milionů. Konkrétně by po skončení půlení mohl být teoreticky spuštěn nový cyklus tvorby bitcoinů kolem roku 2214. Dotyčný kód jádra používal operaci pravého binárního posunu hodnoty odměny těžaře. Chyba vyplývala z použití této operace posunu v kontextu, kde toto chování nebylo podle standardů jazyka C++ definováno. Posun 64bitového celého čísla (`int64_t`) o více než 63 bitů doprava spadá do této kategorie nedefinovaného chování. V kódu jádra bitcoinu k tomu mohlo dojít po 64 půlkách, na výšce bloku č. 13 440 000. Za touto hranicí nebylo chování bitového posunu definováno, což znamená, že různé kompilace mohly kód interpretovat odlišně. To mohlo vést k nepředvídatelným výsledkům, včetně možnosti vytvoření nekonečné inflace bitcoinů. BIP42 tento problém opravil tím, že nařídil, aby se odměna za blok po 64 půlkách nastavila na nulu, čímž se zabránilo použití operace pravého posunu v kontextu nedefinovaného chování. Tato úprava, která byla soft forkem, tak vyjasnila chování kódu jádra bitcoinu. Ačkoli byla tato chyba opravená pomocí BIP42 poměrně závažná, nebyla bezprostředně kritická, protože by se projevila až kolem roku 2214. BIP42, který 1. dubna 2014 zveřejnil Pieter Wuille, se tak vyznačuje humorným tónem.