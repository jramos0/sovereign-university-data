---
term: BIP42

---
Uma proposta para melhorar o Bitcoin Core que aborda um pequeno erro no calendário de redução da recompensa do bloco. Esta anomalia, se não fosse corrigida, teria levado a uma criação total de bitcoins superior ao limite planeado de 21 milhões. Especificamente, após o fim dos halvings, um novo ciclo de criação de bitcoins poderia, teoricamente, ter sido desencadeado por volta do ano 2214. O código Core em questão utilizava uma operação de deslocamento binário à direita sobre o valor da recompensa do mineiro. O erro resultava da utilização desta operação de deslocamento num contexto em que o comportamento era indefinido de acordo com as normas da linguagem C++. Deslocar um inteiro de 64 bits (`int64_t`) mais de 63 bits para a direita cai nessa categoria de comportamento indefinido. No código do Bitcoin Core, isso poderia ter ocorrido após 64 halvings, na altura do bloco nº 13.440.000. Para além deste limite, o comportamento da mudança de bit não foi definido, o que significa que diferentes compilações poderiam interpretar o código de forma diferente. Isto poderia ter levado a resultados imprevisíveis, incluindo a possibilidade de criar uma inflação infinita de bitcoins. O BIP42 corrigiu este problema ao exigir que a recompensa do bloco fosse definida como zero após 64 halvings, evitando assim a utilização de uma operação de deslocamento à direita num contexto de comportamento indefinido. Esta modificação, que era um soft fork, clarificou assim o comportamento do código Bitcoin Core. Embora bastante grave, este bug corrigido pelo BIP42 não era imediatamente crítico, uma vez que só se teria manifestado por volta do ano 2214. Publicado em 1 de abril de 2014, por Pieter Wuille, o BIP42 distingue-se assim pelo seu tom humorístico.